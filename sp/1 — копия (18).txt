
ЭКЗАМЕНАЦИОННЫЙ БИЛЕТ №19


Вопросы: Зачем нужен RAID? Какие уровни рейда вы знаете и чем они отличаются? Чем отличается программный рейд от аппаратного?

RAID (Redundant Array of Independent Disks):
Назначение: Обеспечение надежности и/или повышение производительности хранения данных.

Уровни рейда и их отличия:
RAID 0 (Стрипинг):
Цель: Повышение производительности.
Отличие: Данные разбиваются на блоки и записываются на разные диски.

RAID 1 (Зеркалирование):
Цель: Обеспечение отказоустойчивости.
Отличие: Данные дублируются на два или более диска.

RAID 5 (Паритет):
Цель: Обеспечение отказоустойчивости и частичное повышение производительности.
Отличие: Данные и паритет записываются на разные диски.

RAID 10 (Комбинированный):
Цель: Обеспечение отказоустойчивости и повышение производительности.
Отличие: Комбинация зеркалирования (RAID 1) и стрипинга (RAID 0).
Программный RAID vs. Аппаратный RAID:
Программный RAID:
Выполняется программой на уровне операционной системы.
Преимущества: Гибкость, не требует специального оборудования.
Недостатки: Производительность может быть ниже, так как используется процессор.

Аппаратный RAID:
Выполняется на специальном контроллере.
Преимущества: Высокая производительность, облегчение нагрузки на процессор.
Недостатки: Зависимость от аппаратуры, более дорого.

Практическое задание:
Создайте скрипт, который запрашивает имя пользователя, а в ответ выводит информацию о пользователе – его uid, домашнюю директорию, и список групп, в которых он состоит. После этого скрипт должен спросить, что следует поменять – uid, домашнюю директорию или группу. Если uid, то сначала проверить, доступен ли такой uid, если нет – то один раз предложить ввести заново. Если домашнюю директорию, то спросить, на какую директорию следует сменить, а также следует ли перемещать домашнюю директорию. Если группу – то следует спросить, меняем ли мы основную группу или дополнительную. После чего следует вывести на экран итоговую команду

# Запрос имени пользователя
read -p "Введите имя пользователя: " username

# Получение информации о пользователе
uid=$(id -u "$username")
home_directory=$(getent passwd "$username" | cut -d: -f6)
groups_list=$(id -Gn "$username")

# Вывод информации
echo "Имя пользователя: $username"
echo "UID: $uid"
echo "Домашняя директория: $home_directory"
echo "Группы: $groups_list"

# Запрос изменений
read -p "Что следует поменять (uid, домашнюю директорию, группу)? " change_option

case "$change_option" in
  uid)
    read -p "Введите новый uid: " new_uid
    # Проверка доступности нового uid
    if id "$new_uid" &>/dev/null; then
      echo "Пользователь с таким uid уже существует. Введите другой uid."
      read -p "Введите новый uid: " new_uid
    fi
    command="sudo usermod -u $new_uid $username"
    ;;
  домашнюю)
    read -p "Введите новую домашнюю директорию: " new_home_directory
    read -p "Переместить домашнюю директорию? (yes/no): " move_home
    if [ "$move_home" = "yes" ]; then
      command="sudo usermod -m -d $new_home_directory $username"
    else
      command="sudo usermod -d $new_home_directory $username"
    fi
    ;;
  группу)
    read -p "Меняем основную группу или дополнительную? (основную/дополнительную): " group_type
    if [ "$group_type" = "основную" ]; then
      read -p "Введите новую основную группу: " new_primary_group
      command="sudo usermod -g $new_primary_group $username"
    elif [ "$group_type" = "дополнительную" ]; then
      read -p "Введите новую дополнительную группу: " new_additional_group
      command="sudo usermod -aG $new_additional_group $username"
    else
      echo "Некорректный ввод."
      exit 1
    fi
    ;;
  *)
    echo "Некорректный выбор."
    exit 1
    ;;
esac

# Вывод итоговой команды
echo "Итоговая команда: $command"
chmod +x название.sh
